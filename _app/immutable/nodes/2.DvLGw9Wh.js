import{i as Te,j as m,z as r,o as ae,p as ge,q as O,x as _,l as S,k as p,w as H,y as $,n as k,B as se,V as xe,J as U,r as te,T as re,W as Ye,H as Ie,A as I,s as M,X as ke,a as P,E as Ce,v as Ge,I as Z,K as de,D as at,F as Q,S as Je,u as nt,Y as Oe,Z as He,_ as ot,a0 as st,a1 as lt,G as Ne,g as it,$ as dt}from"../chunks/disclose-version.DfzY1BgP.js";import{l as J,m as X,c as l,q as K,n as ye}from"../chunks/runtime.BPzuCsVO.js";import{i as B}from"../chunks/if.BLygiYpf.js";import{S as Le}from"../chunks/Stack.B5Gh6R8y.js";import{c as ut,a as De,W as vt,b as ct,d as ft,s as gt,e as mt,V as _t,f as pt,h as je}from"../chunks/index.DhNEQMKk.js";import{F as Ve,f as oe}from"../chunks/FocusCard.B9p1EnKH.js";import{p as F}from"../chunks/proxy.Dxe6Up4D.js";import{E as wt,n as Xe}from"../chunks/index.D8s2ejFo.js";var bt=k('<p class="text-center block-space svelte-1b99jwj"> </p>'),yt=k(`<section><p class="text-center large svelte-1b99jwj">Each day, <strong>invent a word</strong> for a concept that doesn't have a word yet!</p></section> <section class="less-width small-stack svelte-1b99jwj"><h2 class="small svelte-1b99jwj">Yesterday's word:</h2> <!></section>`,!0);function ht(t,e){X(e,!1);const a=ut();Te();var n=ae(t,!0,yt),i=p(n),d=r(r(i,!0)),w=_(d),T=r(r(w,!0));De(T,()=>a,h=>{var o=S(h),v=p(o);ct(v,{}),m(h,o)},(h,o)=>{var v=S(h),s=p(v);vt(s,{value:o}),m(h,v)},(h,o)=>{var v=S(h),s=p(v);Ve(s,{error:!0,children:(c,u)=>{var b=H(c,!0,bt),f=$(_(b));ge(f,()=>o.message),O(c,b)}}),m(h,v)}),m(t,n),J()}const ce=3,he=15;var xt=k('<div class="container center label-underneath svelte-c0qihe"><label> </label> <input type="text" class="large-letters fill-in-the-blank lowercase svelte-c0qihe" required autocomplete="off" spellcheck="false" placeholder="your word here"></div>');function Wt(t,e){X(e,!0);let a=se(e,"value",7,""),n=se(e,"disabled",3,!1);const i=b=>{const f=b.target;a(f.value.toLocaleLowerCase())},d=`[a-zA-Z]{${ce},${he}}`;var w=H(t,!0,xt),T=_(w),h=$(_(T)),o=r(r(T,!0));xe(o),U(o,"minlength",ce),U(o,"maxlength",he),U(o,"pattern",d),U(o,"title",`between ${I(ce)} and ${I(he)} letters`);var v,s,c,u;te(()=>{v!==(v=e.id)&&U(T,"for",v),re(h,e.label),s!==(s=e.id)&&U(o,"id",s),c!==(c=e.id)&&U(o,"name",c),u!==(u=n())&&(o.disabled=u)}),Ye(o,a,b=>a(b)),Ie("change",o,i,!1),O(t,w),J()}function St(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function Tt(t){const e=new Date(t);return e.setUTCDate(t.getUTCDate()+1),e.setUTCHours(0,0,0,0),e.getTime()-t.getTime()}let We=M(F(new Date));ke(()=>{let t=-1;const e=()=>{P(We,F(new Date)),t=window.setTimeout(e,Tt(l(We))+500)};return e(),()=>clearTimeout(t)});const Ze={isToday:t=>St(l(We),t)},qe="me:id",It=new Promise(t=>{const e=localStorage.getItem(qe);e!=null?t(e):ft().then(a=>{localStorage.setItem(qe,a),t(a)})}),Be={get id(){return It}};function me(t,e){const a=kt(t)??e;Ue(t,a);let n=M(F(a));return{get value(){return l(n)},set value(i){Ue(t,i),P(n,F(i))}}}function kt(t){if(!Ke)return;const e=localStorage.getItem(t);if(e!=null)try{return JSON.parse(e)}catch{localStorage.removeItem(t)}}function Ue(t,e){Ke&&(e!=null?localStorage.setItem(t,JSON.stringify(e)):localStorage.removeItem(t))}const Ke=(()=>{if(typeof window>"u")return!1;const t="test-localstorage";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}})(),ze="prompt:generated",Re="prompt:content",Ct="prompt:word";let fe=M(F(new Promise(()=>{})));const Se=me(Ct,"");ke(()=>{Ce(()=>{const t=new Date(localStorage.getItem(ze)??0),e=localStorage.getItem(Re);e==null||!Ze.isToday(t)?P(fe,F(mt().then(a=>(localStorage.setItem(ze,new Date().toISOString()),localStorage.setItem(Re,JSON.stringify(a)),Se.value="",a)))):P(fe,F(Promise.resolve(JSON.parse(e))))})});const z={get content(){return l(fe)},get myWord(){return Se.value},submitWord:async t=>{await gt(await Be.id,(await l(fe)).id,t),Se.value=t}};var Lt=k('<div><div class="line svelte-a7cz2u"></div> <div class="line svelte-a7cz2u"></div> <div class="line svelte-a7cz2u"></div> <p class="animated-ellipses svelte-a7cz2u"> </p></div>');function Ae(t,e){X(e,!0);var a=H(t,!0,Lt);Ge(a,`spinner ${I(wt)} svelte-a7cz2u`);var n=_(a),i=r(r(n,!0));Z(i,"--delay","-0.67s");var d=r(r(i,!0));Z(d,"--delay","-0.33s");var w=r(r(d,!0)),T=$(_(w));ge(T,()=>e.label),O(t,a),J()}var Dt=k('<form class="svelte-ehcgdw"><!></form> <div class="overlay-center svelte-ehcgdw"><!></div> <div class="overlay-center svelte-ehcgdw"><!></div> <div class="overlay-center svelte-ehcgdw"><p><strong>Something went wrong...</strong></p> <p> </p></div>',!0),Vt=k('<div class="all-text-centered overlay-container svelte-ehcgdw"><h2> </h2> <!></div>');function Qe(t,e){X(e,!0);const a=se(e,"focus",3,!1);let n=M(!1);const i=async o=>{var c;o.preventDefault(),P(n,!0);const v=new FormData(o.currentTarget,o.submitter),s=((c=e.transitionTo)==null?void 0:c.shouldTransition())??!1;await e.onsubmit(v).catch(u=>Xe.error(u)).finally(()=>P(n,!1)),s&&setTimeout(()=>{var u;(u=document.querySelector(`#${e.transitionTo.id}`))==null||u.scrollIntoView()},100)};let d=M(!1);Ce(()=>{e.content.catch(()=>{P(d,!0)})});var w=S(t);function T(o,v=K,s=K){var c=ae(o,!0,Dt),u=p(c),b=_(u),f=r(r(u,!0)),C=_(f),V=r(r(f,!0)),N=_(V),x=r(r(V,!0)),L=_(x),D=r(r(L,!0)),Y=$(_(D)),y;te(()=>{y!==(y=l(n))&&(u.inert=y),de(u,"invisible",v()==null),de(f,"very-invisible",v()!=null||s()!=null),de(V,"very-invisible",!l(n)),de(x,"very-invisible",s()==null),re(Y,s())}),Ie("submit",u,i,!1),Le(b,{children:(g,W)=>{var E=S(g),j=p(E);at(()=>e.form,j,v,s),m(g,E)}}),Ae(C,{get label(){return e["waiting-label"]}}),Ae(N,{get label(){return e["submitted-label"]}}),m(o,c)}var h=p(w);Ve(h,{get id(){return e.id},get focus(){return a()},get error(){return l(d)},transition:!0,children:(o,v)=>{var s=H(o,!0,Vt),c=_(s),u=$(_(c)),b=r(r(c,!0));ge(u,()=>e.title),De(b,()=>e.content,f=>{var C=S(f),V=p(C);T(V,()=>{},()=>{}),m(f,C)},(f,C)=>{var V=S(f),N=p(V);T(N,()=>C,()=>{}),m(f,V)},(f,C)=>{var V=S(f),N=p(V);T(N,()=>{},()=>C.message),m(f,V)}),O(o,s)}}),m(t,w),J()}var Et=k('<p class="center slightly-larger button-like-padding svelte-i76fpj">Thanks for your submission!</p>'),Pt=k('<button type="submit" class="slightly-larger svelte-i76fpj">Submit Word</button>'),Ft=k('<p>Invent a word that means:</p> <p class="balanced svelte-i76fpj"><strong class="slightly-larger quoted svelte-i76fpj"> </strong></p> <!> <!>',!0);function Ot(t,e){X(e,!0);const a=se(e,"focus",3,!1);let n=M(F(z.myWord));const i=async o=>{await z.submitWord(o.get("word-input"))},d=Q(()=>z.myWord!=null&&z.myWord!=="");var w=S(t),T=p(w),h=Q(()=>({id:"vote-section",shouldTransition:()=>{var o;return(((o=z.myWord)==null?void 0:o.length)??0)===0}}));Qe(T,{id:"invent-a-word-section",get focus(){return a()},title:"Invent a Word",get content(){return z.content},"waiting-label":"Creating a prompt","submitted-label":"Sending your word",onsubmit:i,get transitionTo(){return l(h)},form:(v,s=K)=>{var c=ae(v,!0,Ft),u=p(c),b=r(r(u,!0)),f=_(b),C=$(_(f)),V=r(r(b,!0)),N=r(r(V,!0));ge(C,()=>{var x;return((x=s())==null?void 0:x.text)??"this is placeholder text where the prompt text will go after it all loads into place"}),Wt(V,{id:"word-input",label:"Your word",get value(){return l(n)},set value(x){P(n,F(x))},get disabled(){return l(d)}}),B(N,()=>l(d),x=>{var L=H(x,!0,Et);O(x,L)},x=>{var L=H(x,!0,Pt),D;te(()=>{D!==(D=l(n).length<ce||l(d))&&(L.disabled=D)}),O(x,L)}),m(v,c)}}),m(t,w),J()}var Ht=(t,e,a)=>e.onreplaceword(a()),Nt=k('<div></div> <button class="x-button svelte-1ienhrs" type="button"><span> </span> <span aria-hidden="true">&times;</span></button> <input type="radio" required class="checkmark svelte-1ienhrs"> <label class="svelte-1ienhrs"> </label>',!0),jt=k('<p class="span-all smaller svelte-1ienhrs"> </p>'),qt=k('<fieldset class="svelte-1ienhrs"><legend>Which word do you like best?</legend> <div class="gridded-radios larger svelte-1ienhrs"><!> <label class="span-all smaller space-before svelte-1ienhrs">Or, find a specific word</label> <div class="span-all row smaller svelte-1ienhrs"><input type="search" placeholder="type word" autocomplete="off" class="svelte-1ienhrs"> <button type="button" class="subtle-button svelte-1ienhrs">Find</button></div> <!></div></fieldset>');function Ut(t,e){var D,Y;X(e,!0);const a=[];let n=se(e,"value",7),i=M(F(((D=e.specificWord)==null?void 0:D.text)??"")),d=M(F(((Y=e.specificWord)==null?void 0:Y.text)===e.myWord?"my-word":"idle"));async function w(y){var W;if(l(i)===((W=e.specificWord)==null?void 0:W.text))return;if(y.stopPropagation(),y.preventDefault(),l(i)===""){P(d,"idle");return}P(d,"searching");const g=await e.onsearchword(l(i));P(d,F(g==null?"not-found":g.text===e.myWord?"my-word":"found")),l(d)==="found"&&n(g.id)}var T=H(t,!0,qt);function h(y,g=K,W=K,E=K){var j=ae(y,!0,Nt),ne=p(j),R=r(r(ne,!0)),ee=_(R);Ge(ee,`${I(_t)} svelte-1ienhrs`);var le=_(ee),q=r(r(R,!0));xe(q);var G=r(r(q,!0));Oe(G,()=>oe,()=>({x:-20,duration:120,delay:60}),!1),He(G,()=>oe,()=>({x:20,duration:120}),!1);var ie=$(_(G)),_e,pe,we,Fe,be;te(()=>{Z(ne,"grid-area",`${I(W()+1)} / 1 / ${I(W()+2)} / 2`),_e!==(_e=`Replace ${I(g().text)}`)&&U(R,"title",_e),Z(R,"grid-area",`${I(W()+1)} / 2 / ${I(W()+2)} / 3`),Z(R,"visibility",E()?"visible":"hidden"),re(le,`Replace ${I(g().text)}`),pe!==(pe=`${I(e.id)}-${I(g().id)}`)&&U(q,"id",pe),we!==(we=e.id)&&U(q,"name",we),Fe!==(Fe=g().id)&&(q.value=(q.__value=g().id)==null?"":g().id),Z(q,"grid-area",`${I(W()+1)} / 3 / ${I(W()+2)} / 4`),be!==(be=`${I(e.id)}-${I(g().id)}`)&&U(G,"for",be),Z(G,"grid-area",`${I(W()+1)} / 4 / ${I(W()+2)} / 5`),re(ie,g().text)}),R.__click=[Ht,e,W],ot(a,[],q,()=>(g().id,n()),rt=>n(rt)),m(y,j)}function o(y,g=K,W=K){var E=H(y,!0,jt);Oe(E,()=>oe,()=>({x:-20,duration:120,delay:60}),!1),He(E,()=>oe,()=>({x:20,duration:120}),!1);var j=$(_(E));te(()=>{Z(E,"--row",W()),re(j,g())}),O(y,E)}var v=_(T),s=r(r(v,!0)),c=_(s),u=r(r(c,!0)),b=r(r(u,!0)),f=_(b);xe(f);var C=r(r(f,!0)),V=r(r(b,!0)),N,x,L;te(()=>{N!==(N=`${I(e.id)}-word-search`)&&U(u,"for",N),Z(u,"--row",e.words.length),Z(b,"--row",e.words.length+1),x!==(x=`${I(e.id)}-word-search`)&&U(f,"id",x),L!==(L=`${I(e.id)}-word-search`)&&U(f,"name",L)}),nt(c,()=>e.words,71,(y,g)=>ye(y).id,(y,g,W)=>{var E=S(y),j=p(E);h(j,()=>ye(g),()=>ye(W),()=>!0),m(y,E)},null),Ye(f,()=>l(i),y=>P(i,y)),Ie("keypress",f,y=>y.key==="Enter"&&w(y),!1),C.__click=w,B(V,()=>l(d)==="searching",y=>{var g=S(y),W=p(g);o(W,()=>"",()=>e.words.length+2),m(y,g)},y=>{var g=S(y),W=p(g);B(W,()=>l(d)==="not-found",E=>{var j=S(E),ne=p(j);o(ne,()=>"We could not find this word.",()=>e.words.length+2),m(E,j)},E=>{var j=S(E),ne=p(j);B(ne,()=>l(d)==="my-word",R=>{var ee=S(R),le=p(ee);o(le,()=>"Hey, that's your word!",()=>e.words.length+2),m(R,ee)},R=>{var ee=S(R),le=p(ee);B(le,()=>e.specificWord!=null,q=>{var G=S(q),ie=p(G);h(ie,()=>e.specificWord,()=>e.words.length+2,()=>!1),m(q,G)},q=>{var G=S(q),ie=p(G);o(ie,()=>"",()=>e.words.length+2),m(q,G)}),m(R,ee)}),m(E,j)}),m(y,g)}),O(t,T),J()}Je(["click"]);function zt(t){if(t.length===0)return-1;const e=Math.random();let a=0;for(let n=0;n<t.length;n++)if(a+=t[n],e<a)return n;return-1}function $e(t,e){if(t.length<=e)return[...t];const a=t.map(i=>i.tally+1),n=[];for(;n.length<e;){const i=zt(Rt(a));if(i===-1)break;n.push(t[i]),a[i]=0}return n}function Rt(t){const e=t.reduce((a,n)=>a+n,0);return t.map(a=>a/e)}const et=3,tt="votes:generated",At="votes:votable",Mt="votes:my-vote",Yt="votes:specific-word";let ve=M(F(new Promise(()=>{})));const ue=me(At,[]),Ee=me(Mt,void 0),Pe=me(Yt,void 0);ke(()=>{Ce(()=>{const t=new Date(localStorage.getItem(tt)??0);Ze.isToday(t)?P(ve,F(je())):(Ee.value=void 0,Pe.value=void 0,P(ve,F(je().then(Gt))))})});async function Gt(t){return localStorage.setItem(tt,new Date().toISOString()),ue.value=$e(t,et),t}async function Jt(t){await pt(await Be.id,(await z.content).id,t),Ee.value=t}async function Xt(t){const e=await l(ve),a=ue.value.map(d=>d.id),n=e.filter(d=>!a.includes(d.id)&&d.text!==z.myWord),i=$e(n,1)[0];i!=null&&(ue.value=ue.value.toSpliced(t,1,i))}async function Zt(t){const a=(await l(ve)).find(n=>n.text===t);return a!=null&&a.text!=z.myWord&&(Pe.value=a),a}const A={get allWords(){return l(ve)},get votableWords(){return ue.value},get myVote(){return Ee.value},get specificWord(){return Pe.value},submitVote:Jt,replaceWord:Xt,findSpecificWord:Zt};var Bt=k('<p class="center slightly-larger svelte-1qv8yif">Thanks for your vote!</p> <p class="center">You may change your vote whenever you want.</p>',!0),Kt=k('<button type="submit" class="slightly-larger svelte-1qv8yif">Submit Vote</button>'),Qt=k("<p>Choose a favorite word that isn't your own:</p> <!> <!>",!0);function $t(t,e){X(e,!0);const a=se(e,"focus",3,!1);let n=M(F(A.myVote));const i=async s=>{await A.submitVote(s.get("word-vote"))},d=[...Array(et).keys()].map(s=>({id:(-s).toString(),text:"placeholder",tally:0})),w=s=>{A.votableWords[s].id===l(n)&&P(n,void 0),A.replaceWord(s)},T=Q(()=>A.myVote!=null&&A.myVote===l(n));var h=S(t),o=p(h),v=Q(()=>({id:"whats-next-section",shouldTransition:()=>{var s;return(((s=A.myVote)==null?void 0:s.length)??0)===0}}));Qe(o,{id:"vote-section",get focus(){return a()},title:"Vote",get content(){return A.allWords},"waiting-label":"Finding words","submitted-label":"Sending your vote",onsubmit:i,get transitionTo(){return l(v)},form:(c,u=K)=>{var b=ae(c,!0,Qt),f=p(b),C=r(r(f,!0)),V=Q(()=>u()!=null?A.votableWords:d),N=r(r(C,!0));Ut(C,{id:"word-vote",get words(){return l(V)},get value(){return l(n)},set value(x){P(n,F(x))},get specificWord(){return A.specificWord},get myWord(){return z.myWord},onreplaceword:w,get onsearchword(){return A.findSpecificWord}}),B(N,()=>l(T),x=>{var L=S(x),D=p(L);Le(D,{size:"0.25em",children:(Y,y)=>{var g=ae(Y,!0,Bt);m(Y,g)}}),m(x,L)},x=>{var L=H(x,!0,Kt),D;te(()=>{D!==(D=l(n)==null)&&(L.disabled=D)}),O(x,L)}),m(c,b)}}),m(t,h),J()}var er=st('<svg width="1200" height="1227" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-120zmi4"><title>X/Twitter</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg>');function tr(t,e){X(e,!1),Te();var a=H(t,!0,er);O(t,a),J()}const rr=async(t,e,a,n,i)=>{var d,w;window.clearTimeout(l(e));try{await((w=(d=navigator.clipboard)==null?void 0:d.writeText)==null?void 0:w.call(d,l(a))),P(n,!0),P(e,F(window.setTimeout(()=>P(n,!1),5e3)))}catch(T){i.error(T)}};var ar=k('<a class="button"><!> Tweet it</a>'),nr=k('<span class="transitions svelte-1d0xpup">Copy/Paste</span>'),or=k('<span class="transitions svelte-1d0xpup">Copied!</span>'),sr=k('<button class="position-container svelte-1d0xpup"><span class="define-the-space svelte-1d0xpup">Copy/Paste</span> <!></button>'),lr=k('<div class="small-stack svelte-1d0xpup"><p>Share your word on social media:</p> <blockquote class="space-after svelte-1d0xpup"><p>I invented a new word!</p> <p><strong> </strong> </p> <p>Invent your own word at neolingo.fun.</p></blockquote> <ul class="row-list svelte-1d0xpup"><li><!></li> <li><!></li></ul></div>');function Me(t,e){X(e,!0);const a=Q(()=>`I invented a new word!

${e.word}: ${e.definition}

Invent your own word at neolingo.fun.`);let n=M(!1),i=M(-1);var d=H(t,!0,lr);function w(L){var D=H(L,!0,ar),Y=_(D);lt(D,"href",()=>`https://twitter.com/intent/tweet?text=${I(encodeURIComponent(l(a)))}`),tr(Y,{}),O(L,D)}function T(L){var D=H(L,!0,sr),Y=_(D),y=r(r(Y,!0));D.__click=[rr,i,a,n,Xe],B(y,()=>!l(n),g=>{var W=H(g,!0,nr);Ne(W,()=>oe,()=>({duration:120,x:20}),!1),O(g,W)},g=>{var W=H(g,!0,or);Ne(W,()=>oe,()=>({duration:120,x:-20}),!1),O(g,W)}),O(L,D)}var h=_(d),o=r(r(h,!0)),v=_(o),s=r(r(v,!0)),c=_(s),u=$(_(c)),b=r(c,!0),f=r(r(o,!0)),C=_(f),V=_(C),N=r(r(C,!0)),x=_(N);te(()=>{de(d,"invisible",e.word.length===0),re(u,e.word),re(b,`: ${I(e.definition)}`)}),w(V),T(x),O(t,d),J()}Je(["click"]);var ir=k('<div class="invisible small-stack svelte-10xovyt"><!></div>'),dr=k(`<div class="small-stack svelte-10xovyt"><h2 class="text-center svelte-10xovyt">What's next?</h2> <p class="text-center balance more-space-after svelte-10xovyt">Come back tomorrow to see which word won and then invent another new word!</p> <!></div>`);function ur(t,e){X(e,!1),Te();var a=S(t),n=p(a);Ve(n,{id:"whats-next-section",children:(i,d)=>{var w=H(i,!0,dr),T=_(w),h=r(r(T,!0)),o=r(r(h,!0));De(o,()=>z.content,v=>{var s=H(v,!0,ir),c=_(s);Me(c,{word:"",definition:""}),O(v,s)},(v,s)=>{var c=S(v),u=p(c);Me(u,{get word(){return z.myWord},get definition(){return s.text}}),m(v,c)},null),O(i,w)}}),m(t,a),J()}var vr=k("<!> <!> <!> <!>",!0);function yr(t,e){X(e,!0);const a=w=>w?1:0,n=Q(()=>a(z.myWord)+a(A.myVote));var i=S(t);it(w=>{dt.title="Neolingo"});var d=p(i);Le(d,{size:"3em",children:(w,T)=>{var h=ae(w,!0,vr),o=p(h),v=r(r(o,!0)),s=r(r(v,!0)),c=r(r(s,!0));ht(o,{}),B(v,()=>!0,u=>{var b=S(u),f=p(b),C=Q(()=>l(n)<1);Ot(f,{get focus(){return l(C)}}),m(u,b)},null),B(s,()=>l(n)>0,u=>{var b=S(u),f=p(b),C=Q(()=>l(n)<2);$t(f,{get focus(){return l(C)}}),m(u,b)},null),B(c,()=>l(n)>1,u=>{var b=S(u),f=p(b);ur(f,{}),m(u,b)},null),m(w,h)}}),m(t,i),J()}export{yr as component};
