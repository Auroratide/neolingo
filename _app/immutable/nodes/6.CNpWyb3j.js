import{c as j,b as I,s as e,a as z,o as D,k as v,e as M,t as d}from"../chunks/disclose-version.jtkXa8v4.js";import{p as V,g as o,a as W,s as _,b as p,d as N,z as X}from"../chunks/runtime.ChrPWTZd.js";import{i as Z}from"../chunks/if.BAnrKUfd.js";import{e as O}from"../chunks/events.L-VZA9oS.js";import{b as $}from"../chunks/this.BSD64vzo.js";import{p as Y}from"../chunks/proxy.BgKykdNt.js";import{F as ee,T as te,t as ae}from"../chunks/TurnstileDialog.BDwsQjTd.js";import{s as oe}from"../chunks/api.CfnFQHVy.js";const ie=({url:n})=>{const a=n.searchParams.get("topic");return{initialTopic:a?decodeURIComponent(a):"",metadata:{title:"Improve Neolingo"}}},ve=Object.freeze(Object.defineProperty({__proto__:null,load:ie},Symbol.toStringTag,{value:"Module"}));var re=d('<p class="slightly-larger button-like-padding svelte-1nb1k26">Thank you for helping improve Neolingo!</p>'),ne=d('<button type="submit" class="slightly-larger svelte-1nb1k26">Submit Feedback</button>'),se=d('<p>If you have an idea, something went wrong, or you just want to show appreciation, let me know by filling out the form below!</p> <div class="input-group svelte-1nb1k26"><label for="feedback-topic" class="svelte-1nb1k26">Topic</label> <select id="feedback-topic" name="topic"><option>General feedback</option><option>Something is not working</option><option>I have an idea</option><option>Accessibility issue</option></select></div> <div class="input-group svelte-1nb1k26"><label for="feedback-content" class="svelte-1nb1k26">Your feedback</label> <textarea id="feedback-content" name="text" required placeholder="Type your feedback here" rows="4" maxlength="2500"></textarea></div> <!>',!0),le=d("<!> <!>",!0);function _e(n,a){W(a,!0);let s=_(null);const q=()=>{var t;(t=o(s))==null||t.showModal()},A=t=>{var i;return(i=o(s))==null||i.close(),t};let k=_(()=>{}),l=_(!1);const E=async t=>{const i=await Promise.race([ae(q).then(A),new Promise(c=>p(k,Y(c))).then(()=>{throw new Error("You must complete the captcha to submit a word.")})]);await oe(i,{topic:t.get("topic"),text:t.get("text")}),p(l,!0)},h=()=>{p(l,!1)};var w=D(n,!0,le),y=I(w),G=N(()=>!o(l)),R=N(()=>Promise.resolve("")),U=e(e(y,!0));ee(y,{get focus(){return o(G)},id:"feedback-section",title:"Feedback",get content(){return o(R)},"waiting-label":"Sending your feedback","submitted-label":"Sending feedback",onsubmit:E,form:i=>{var c=D(i,!0,se),B=I(c),T=e(e(B,!0)),H=v(T),x=e(e(H,!0)),S=v(x),C=e(S),F=e(C),J=e(F),P=e(e(T,!0)),K=v(P),L=e(e(K,!0)),Q=e(e(P,!0)),u,b,f,g;X(()=>{u!==(u=a.data.initialTopic==="general")&&(S.selected=u),b!==(b=a.data.initialTopic==="bug")&&(C.selected=b),f!==(f=a.data.initialTopic==="idea")&&(F.selected=f),g!==(g=a.data.initialTopic==="accessibility")&&(J.selected=g)}),O("change",x,h,!1),O("input",L,h,!1),Z(Q,()=>o(l),r=>{var m=M(r,!0,re);z(r,m)},r=>{var m=M(r,!0,ne);z(r,m)}),j(i,c)}}),$(te(U,{get oncancel(){return o(k)}}),t=>p(s,Y(t)),()=>o(s)),j(n,w),V()}export{_e as component,ve as universal};
