import{E as Ce,c as f,s as a,o as re,b as m,t as C,a as P,e as S,f as O,z as h,B as ie,V as We,I as q,r as ee,S as te,W as Me,H as Ie,A as ne,y as D,g as B,X as De,h as F,u as _e,x as Ye,J as ue,D as et,d as K,Y as Te,R as ze,w as $,F as tt,v as at,Z as Fe,_ as rt,a0 as nt,a1 as ot,G as He}from"../chunks/disclose-version.B6_D-1pi.js";import{p as X,a as Z,n as J,g as i,q as he}from"../chunks/runtime.CD0C5v4P.js";import{i as z}from"../chunks/if.DCDPVM9c.js";import{S as Le}from"../chunks/Stack.DE3ZZ1o8.js";import{c as st,a as Ve,b as it,W as lt,d as dt,s as ut,e as vt,P as ct,V as ft,f as gt,h as Ne}from"../chunks/index.DzR6xD38.js";import{p as R}from"../chunks/proxy.1Uko_P8c.js";import{s as fe}from"../chunks/stored-state.svelte.D36TBf0e.js";import{F as Ge,s as mt,f as se}from"../chunks/FocusCard.B8n6oxn6.js";import{S as Re}from"../chunks/Spinner.DfFJoy9z.js";import{n as Be}from"../chunks/notifications.svelte.BtFb47vH.js";const _t=()=>({metadata:{title:"Neolingo"}}),ha=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var wt=C(`<section class="less-width small-stack svelte-1b99jwj"><h2 class="small svelte-1b99jwj">Yesterday's word:</h2> <!></section>`),pt=C(`<section><p class="text-center large svelte-1b99jwj">Each day, <strong>invent a word</strong> for a concept that doesn't have a word yet!</p></section> <!>`,!0);function yt(t,e){Z(e,!1);const n=st();Ce();var r=re(t,!0,pt);function v(p,k=J){var o=O(p,!0,wt),_=h(o),l=a(a(_,!0));z(l,k,d=>{var s=S(d),w=m(s);lt(w,{get value(){return k()}}),f(d,s)},d=>{var s=S(d),w=m(s);it(w,{}),f(d,s)}),P(p,o)}var u=m(r),x=a(a(u,!0));Ve(x,()=>n,p=>{var k=S(p),o=m(k);v(o,()=>{}),f(p,k)},(p,k)=>{var o=S(p),_=m(o);v(_,()=>k),f(p,o)},p=>{}),f(t,r),X()}const ge=3,xe=15;var bt=C('<div class="container center label-underneath svelte-c0qihe"><label> </label> <input type="text" class="large-letters fill-in-the-blank lowercase svelte-c0qihe" required autocomplete="off" spellcheck="false" placeholder="your word here"></div>');function ht(t,e){Z(e,!0);let n=ie(e,"value",7,""),r=ie(e,"disabled",3,!1);const v=w=>{const g=w.target;n(g.value.toLocaleLowerCase())},u=`[a-zA-Z]{${ge},${xe}}`;var x=O(t,!0,bt),p=h(x),k=ne(h(p)),o=a(a(p,!0));We(o),q(o,"minlength",ge),q(o,"maxlength",xe),q(o,"pattern",u),q(o,"title",`between ${D(ge)} and ${D(xe)} letters`);var _,l,d,s;ee(()=>{_!==(_=e.id)&&q(p,"for",_),te(k,e.label),l!==(l=e.id)&&q(o,"id",l),d!==(d=e.id)&&q(o,"name",d),s!==(s=r())&&(o.disabled=s)}),Me(o,n,w=>n(w)),Ie("change",o,v,!1),P(t,x),X()}function xt(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function Wt(t){const e=new Date(t);return e.setUTCDate(t.getUTCDate()+1),e.setUTCHours(0,0,0,0),e.getTime()-t.getTime()}let Se=B(R(new Date));De(()=>{let t=-1;const e=()=>{F(Se,R(new Date)),t=window.setTimeout(e,Wt(i(Se))+500)};return e(),()=>clearTimeout(t)});const Xe={isToday:t=>xt(i(Se),t)},Tt="me:id",Ue=fe(Tt,void 0),ae={get id(){return Ue.value},generateId:async t=>dt(t).then(e=>(Ue.value=e,e))},je="prompt:generated",qe="prompt:content",St="prompt:word";let me=B(R(new Promise(()=>{})));const ke=fe(St,"");De(()=>{_e(()=>{const t=new Date(localStorage.getItem(je)??0),e=localStorage.getItem(qe);e==null||!Xe.isToday(t)?F(me,R(vt().then(n=>(localStorage.setItem(je,new Date().toISOString()),localStorage.setItem(qe,JSON.stringify(n)),ke.value="",n)))):F(me,R(Promise.resolve(JSON.parse(e))))})});const A={get content(){return i(me)},get myWord(){return ke.value},submitWord:async t=>{if(!ae.id)throw new Error("Could not submit word. Do you need to verify a captcha?");await ut(ae.id,(await i(me)).id,t),ke.value=t}};var kt=C('<form class="svelte-ehcgdw"><!></form> <div class="overlay-center svelte-ehcgdw"><!></div> <div class="overlay-center svelte-ehcgdw"><!></div> <div class="overlay-center svelte-ehcgdw"><p><strong>Something went wrong...</strong></p> <p> </p></div>',!0),Ct=C('<div class="all-text-centered overlay-container svelte-ehcgdw"><h2> </h2> <!></div>');function Ze(t,e){Z(e,!0);const n=ie(e,"focus",3,!1);let r=B(!1);const v=async o=>{var d;o.preventDefault(),F(r,!0);const _=new FormData(o.currentTarget,o.submitter),l=((d=e.transitionTo)==null?void 0:d.shouldTransition())??!1;await e.onsubmit(_).catch(s=>Be.error(s)).finally(()=>F(r,!1)),l&&setTimeout(()=>{var s;(s=document.querySelector(`#${e.transitionTo.id}`))==null||s.scrollIntoView({behavior:"smooth"})},100)};let u=B(!1);_e(()=>{e.content.catch(()=>{F(u,!0)})});var x=S(t);function p(o,_=J,l=J){var d=re(o,!0,kt),s=m(d),w=h(s),g=a(a(s,!0)),I=h(g),L=a(a(g,!0)),N=h(L),E=a(a(L,!0)),y=h(E),W=a(a(y,!0)),H=ne(h(W)),b;ee(()=>{b!==(b=i(r))&&(s.inert=b),ue(s,"invisible",_()==null),ue(g,"very-invisible",_()!=null||l()!=null),ue(L,"very-invisible",!i(r)),ue(E,"very-invisible",l()==null),te(H,l())}),Ie("submit",s,v,!1),Le(w,{children:(c,T)=>{var V=S(c),U=m(V);et(()=>e.form,U,_,l),f(c,V)}}),Re(I,{get label(){return e["waiting-label"]}}),Re(N,{get label(){return e["submitted-label"]}}),f(o,d)}var k=m(x);Ge(k,{get id(){return e.id},get focus(){return n()},get error(){return i(u)},transition:!0,children:(o,_)=>{var l=O(o,!0,Ct),d=h(l),s=ne(h(d)),w=a(a(d,!0));Ye(s,()=>e.title),Ve(w,()=>e.content,g=>{var I=S(g),L=m(I);p(L,()=>{},()=>{}),f(g,I)},(g,I)=>{var L=S(g),N=m(L);p(N,()=>I,()=>{}),f(g,L)},(g,I)=>{var L=S(g),N=m(L);p(N,()=>{},()=>I.message),f(g,L)}),P(o,l)}}),f(t,x),X()}var It=C('<div id="cf-turnstile"></div>');function Dt(t,e){Z(e,!0),_e(()=>{const r=window.turnstile.render("#cf-turnstile",{sitekey:ct,callback:()=>{}});return()=>{window.turnstile.remove(r)}});var n=O(t,!0,It);P(t,n),X()}var Lt=C('<p class="center slightly-larger button-like-padding svelte-i76fpj">Thanks for your submission!</p>'),Vt=C('<button type="submit" class="slightly-larger svelte-i76fpj">Submit Word</button>'),Et=C("<div><!></div>"),Pt=C('<p>Invent a word that means:</p> <p class="balanced svelte-i76fpj"><strong class="slightly-larger quoted svelte-i76fpj"> </strong></p> <!> <!> <!>',!0);function Ot(t,e){Z(e,!0);const n=ie(e,"focus",3,!1);let r=B(R(A.myWord));const v=async o=>{ae.id||await ae.generateId(o.get("cf-turnstile-response")),await A.submitWord(o.get("word-input"))},u=K(()=>A.myWord!=null&&A.myWord!=="");var x=S(t),p=m(x),k=K(()=>({id:"vote-section",shouldTransition:()=>{var o;return(((o=A.myWord)==null?void 0:o.length)??0)===0}}));Ze(p,{id:"invent-a-word-section",get focus(){return n()},title:"Invent a Word",get content(){return A.content},"waiting-label":"Creating a prompt","submitted-label":"Sending your word",onsubmit:v,get transitionTo(){return i(k)},form:(_,l=J)=>{var d=re(_,!0,Pt),s=m(d),w=a(a(s,!0)),g=h(w),I=ne(h(g)),L=a(a(w,!0)),N=a(a(L,!0)),E=a(a(N,!0));Ye(I,()=>{var y;return((y=l())==null?void 0:y.text)??"this is placeholder text where the prompt text will go after it all loads into place"}),ht(L,{id:"word-input",label:"Your word",get value(){return i(r)},set value(y){F(r,R(y))},get disabled(){return i(u)}}),z(N,()=>i(u),y=>{var W=O(y,!0,Lt);P(y,W)},y=>{var W=O(y,!0,Vt),H;ee(()=>{H!==(H=i(r).length<ge||i(u))&&(W.disabled=H)}),P(y,W)}),z(E,()=>!ae.id,y=>{var W=O(y,!0,Et);Te(W,()=>mt,()=>({axis:"y"}),!1);var H=h(W);Dt(H,{}),P(y,W)},null),f(_,d)}}),f(t,x),X()}var Ft=(t,e,n)=>e.onreplaceword(n()),Ht=C('<div></div> <button class="x-button svelte-1wams84" type="button"><span> </span> <span aria-hidden="true">&times;</span></button> <input type="radio" required class="checkmark svelte-1wams84"> <label class="svelte-1wams84"> </label>',!0),Nt=C('<p class="span-all smaller svelte-1wams84"> </p>'),Rt=C('<fieldset class="svelte-1wams84"><legend class="svelte-1wams84">Which word do you like best?</legend> <div class="gridded-radios larger svelte-1wams84"><!> <label class="span-all smaller space-before svelte-1wams84">Or, find a specific word</label> <div class="span-all row smaller svelte-1wams84"><input type="search" placeholder="type word" autocomplete="off" class="svelte-1wams84"> <button type="button" class="subtle-button svelte-1wams84">Find</button></div> <!></div></fieldset>');function Ut(t,e){var W,H;Z(e,!0);const n=[];let r=ie(e,"value",7),v=B(R(((W=e.specificWord)==null?void 0:W.text)??"")),u=B(R(((H=e.specificWord)==null?void 0:H.text)===e.myWord?"my-word":"idle"));async function x(b){var T;if(i(v)===((T=e.specificWord)==null?void 0:T.text))return;if(b.stopPropagation(),b.preventDefault(),i(v)===""){F(u,"idle");return}F(u,"searching");const c=await e.onsearchword(i(v));F(u,R(c==null?"not-found":c.text===e.myWord?"my-word":"found")),i(u)==="found"&&r(c.id)}var p=O(t,!0,Rt);function k(b,c=J,T=J,V=J){var U=re(b,!0,Ht),oe=m(U),M=a(a(oe,!0)),Q=h(M);at(Q,`${D(ft)} svelte-1wams84`);var le=h(Q),j=a(a(M,!0));We(j);var G=a(a(j,!0));Fe(G,()=>se,()=>({x:-20,duration:120,delay:60}),!1),Te(G,()=>se,()=>({x:20,duration:120}),!1);var de=ne(h(G)),we,pe,ye,Oe,be;ee(()=>{$(oe,"grid-area",`${D(T()+1)} / 1 / ${D(T()+2)} / 2`),we!==(we=`Replace ${D(c().text)}`)&&q(M,"title",we),$(M,"grid-area",`${D(T()+1)} / 2 / ${D(T()+2)} / 3`),$(M,"visibility",V()?"visible":"hidden"),te(le,`Replace ${D(c().text)}`),pe!==(pe=`${D(e.id)}-${D(c().id)}`)&&q(j,"id",pe),ye!==(ye=e.id)&&q(j,"name",ye),Oe!==(Oe=c().id)&&(j.value=(j.__value=c().id)==null?"":c().id),$(j,"grid-area",`${D(T()+1)} / 3 / ${D(T()+2)} / 4`),be!==(be=`${D(e.id)}-${D(c().id)}`)&&q(G,"for",be),$(G,"grid-area",`${D(T()+1)} / 4 / ${D(T()+2)} / 5`),te(de,c().text)}),M.__click=[Ft,e,T],rt(n,[],j,()=>(c().id,r()),$e=>r($e)),f(b,U)}function o(b,c=J,T=J){var V=O(b,!0,Nt);Fe(V,()=>se,()=>({x:-20,duration:120,delay:60}),!1),Te(V,()=>se,()=>({x:20,duration:120}),!1);var U=ne(h(V));ee(()=>{$(V,"--row",T()),te(U,c())}),P(b,V)}var _=h(p),l=a(a(_,!0)),d=h(l),s=a(a(d,!0)),w=a(a(s,!0)),g=h(w);We(g);var I=a(a(g,!0)),L=a(a(w,!0)),N,E,y;ee(()=>{N!==(N=`${D(e.id)}-word-search`)&&q(s,"for",N),$(s,"--row",e.words.length),$(w,"--row",e.words.length+1),E!==(E=`${D(e.id)}-word-search`)&&q(g,"id",E),y!==(y=`${D(e.id)}-word-search`)&&q(g,"name",y)}),tt(d,()=>e.words,71,(b,c)=>he(b).id,(b,c,T)=>{var V=S(b),U=m(V);k(U,()=>he(c),()=>he(T),()=>!0),f(b,V)},null),Me(g,()=>i(v),b=>F(v,b)),Ie("keypress",g,b=>b.key==="Enter"&&x(b),!1),I.__click=x,z(L,()=>i(u)==="searching",b=>{var c=S(b),T=m(c);o(T,()=>"",()=>e.words.length+2),f(b,c)},b=>{var c=S(b),T=m(c);z(T,()=>i(u)==="not-found",V=>{var U=S(V),oe=m(U);o(oe,()=>"We could not find this word.",()=>e.words.length+2),f(V,U)},V=>{var U=S(V),oe=m(U);z(oe,()=>i(u)==="my-word",M=>{var Q=S(M),le=m(Q);o(le,()=>"Hey, that's your word!",()=>e.words.length+2),f(M,Q)},M=>{var Q=S(M),le=m(Q);z(le,()=>e.specificWord!=null,j=>{var G=S(j),de=m(G);k(de,()=>e.specificWord,()=>e.words.length+2,()=>!1),f(j,G)},j=>{var G=S(j),de=m(G);o(de,()=>"",()=>e.words.length+2),f(j,G)}),f(M,Q)}),f(V,U)}),f(b,c)}),P(t,p),X()}ze(["click"]);function jt(t){if(t.length===0)return-1;const e=Math.random();let n=0;for(let r=0;r<t.length;r++)if(n+=t[r],e<n)return r;return-1}function Je(t,e){if(t.length<=e)return[...t];const n=t.map(v=>v.tally+1),r=[];for(;r.length<e;){const v=jt(qt(n));if(v===-1)break;r.push(t[v]),n[v]=0}return r}function qt(t){const e=t.reduce((n,r)=>n+r,0);return t.map(n=>n/e)}const Ke=3,Qe="votes:generated",At="votes:votable",Mt="votes:my-vote",Yt="votes:specific-word";let ce=B(R(new Promise(()=>{})));const ve=fe(At,[]),Ee=fe(Mt,void 0),Pe=fe(Yt,void 0);De(()=>{_e(()=>{const t=new Date(localStorage.getItem(Qe)??0);Xe.isToday(t)?F(ce,R(Ne())):(Ee.value=void 0,Pe.value=void 0,F(ce,R(Ne().then(zt))))})});async function zt(t){return localStorage.setItem(Qe,new Date().toISOString()),ve.value=Je(t,Ke),t}async function Gt(t){if(!ae.id)throw new Error("Could not submit word. Do you need to verify a captcha?");await gt(ae.id,(await A.content).id,t),Ee.value=t}async function Bt(t){const e=await i(ce),n=ve.value.map(u=>u.id),r=e.filter(u=>!n.includes(u.id)&&u.text!==A.myWord),v=Je(r,1)[0];v!=null&&(ve.value=ve.value.toSpliced(t,1,v))}async function Xt(t){const n=(await i(ce)).find(r=>r.text===t);return n!=null&&n.text!=A.myWord&&(Pe.value=n),n}const Y={get allWords(){return i(ce)},get votableWords(){return ve.value},get myVote(){return Ee.value},get specificWord(){return Pe.value},submitVote:Gt,replaceWord:Bt,findSpecificWord:Xt};var Zt=C('<p class="center slightly-larger svelte-1qv8yif">Thanks for your vote!</p> <p class="center">You may change your vote whenever you want.</p>',!0),Jt=C('<button type="submit" class="slightly-larger svelte-1qv8yif">Submit Vote</button>'),Kt=C("<p>Choose a favorite word that isn't your own:</p> <!> <!>",!0);function Qt(t,e){Z(e,!0);const n=ie(e,"focus",3,!1);let r=B(R(Y.myVote));const v=async l=>{await Y.submitVote(l.get("word-vote"))},u=[...Array(Ke).keys()].map(l=>({id:(-l).toString(),text:"placeholder",tally:0})),x=l=>{Y.votableWords[l].id===i(r)&&F(r,void 0),Y.replaceWord(l)},p=K(()=>Y.myVote!=null&&Y.myVote===i(r));var k=S(t),o=m(k),_=K(()=>({id:"whats-next-section",shouldTransition:()=>{var l;return(((l=Y.myVote)==null?void 0:l.length)??0)===0}}));Ze(o,{id:"vote-section",get focus(){return n()},title:"Vote",get content(){return Y.allWords},"waiting-label":"Finding words","submitted-label":"Sending your vote",onsubmit:v,get transitionTo(){return i(_)},form:(d,s=J)=>{var w=re(d,!0,Kt),g=m(w),I=a(a(g,!0)),L=K(()=>s()!=null?Y.votableWords:u),N=a(a(I,!0));Ut(I,{id:"word-vote",get words(){return i(L)},get value(){return i(r)},set value(E){F(r,R(E))},get specificWord(){return Y.specificWord},get myWord(){return A.myWord},onreplaceword:x,get onsearchword(){return Y.findSpecificWord}}),z(N,()=>i(p),E=>{var y=S(E),W=m(y);Le(W,{size:"0.25em",children:(H,b)=>{var c=re(H,!0,Zt);f(H,c)}}),f(E,y)},E=>{var y=O(E,!0,Jt),W;ee(()=>{W!==(W=i(r)==null)&&(y.disabled=W)}),P(E,y)}),f(d,w)}}),f(t,k),X()}var $t=nt('<svg width="1200" height="1227" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-120zmi4"><title>X/Twitter</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg>');function ea(t,e){Z(e,!1),Ce();var n=O(t,!0,$t);P(t,n),X()}const ta=async(t,e,n,r,v)=>{var u,x;window.clearTimeout(i(e));try{await((x=(u=navigator.clipboard)==null?void 0:u.writeText)==null?void 0:x.call(u,i(n))),F(r,!0),F(e,R(window.setTimeout(()=>F(r,!1),5e3)))}catch(p){v.error(p)}};var aa=C('<a class="button"><!> Tweet it</a>'),ra=C('<span class="transitions svelte-1d0xpup">Copy/Paste</span>'),na=C('<span class="transitions svelte-1d0xpup">Copied!</span>'),oa=C('<button class="position-container svelte-1d0xpup"><span class="define-the-space svelte-1d0xpup">Copy/Paste</span> <!></button>'),sa=C('<div class="small-stack svelte-1d0xpup"><p>Share your word on social media:</p> <blockquote class="space-after svelte-1d0xpup"><p>I invented a new word!</p> <p><strong> </strong> </p> <p>Invent your own word at neolingo.fun.</p></blockquote> <ul class="row-list svelte-1d0xpup"><li><!></li> <li><!></li></ul></div>');function Ae(t,e){Z(e,!0);const n=K(()=>`I invented a new word!

${e.word}: ${e.definition}

Invent your own word at neolingo.fun.`);let r=B(!1),v=B(-1);var u=O(t,!0,sa);function x(y){var W=O(y,!0,aa),H=h(W);ot(W,"href",()=>`https://twitter.com/intent/tweet?text=${D(encodeURIComponent(i(n)))}`),ea(H,{}),P(y,W)}function p(y){var W=O(y,!0,oa),H=h(W),b=a(a(H,!0));W.__click=[ta,v,n,r,Be],z(b,()=>!i(r),c=>{var T=O(c,!0,ra);He(T,()=>se,()=>({duration:120,x:20}),!1),P(c,T)},c=>{var T=O(c,!0,na);He(T,()=>se,()=>({duration:120,x:-20}),!1),P(c,T)}),P(y,W)}var k=h(u),o=a(a(k,!0)),_=h(o),l=a(a(_,!0)),d=h(l),s=ne(h(d)),w=a(d,!0),g=a(a(o,!0)),I=h(g),L=h(I),N=a(a(I,!0)),E=h(N);ee(()=>{ue(u,"invisible",e.word.length===0),te(s,e.word),te(w,`: ${D(e.definition)}`)}),x(L),p(E),P(t,u),X()}ze(["click"]);var ia=C('<div class="invisible small-stack svelte-10xovyt"><!></div>'),la=C(`<div class="small-stack svelte-10xovyt"><h2 class="text-center svelte-10xovyt">What's next?</h2> <p class="text-center balance more-space-after svelte-10xovyt">Come back tomorrow to see which word won and then invent another new word!</p> <!></div>`);function da(t,e){Z(e,!1),Ce();var n=S(t),r=m(n);Ge(r,{id:"whats-next-section",children:(v,u)=>{var x=O(v,!0,la),p=h(x),k=a(a(p,!0)),o=a(a(k,!0));Ve(o,()=>A.content,_=>{var l=O(_,!0,ia),d=h(l);Ae(d,{word:"",definition:""}),P(_,l)},(_,l)=>{var d=S(_),s=m(d);Ae(s,{get word(){return A.myWord},get definition(){return l.text}}),f(_,d)},null),P(v,x)}}),f(t,n),X()}var ua=C("<!> <!> <!> <!>",!0);function xa(t,e){Z(e,!0);const n=x=>x?1:0,r=K(()=>n(A.myWord)+n(Y.myVote));var v=S(t),u=m(v);Le(u,{size:"3em",children:(x,p)=>{var k=re(x,!0,ua),o=m(k),_=a(a(o,!0)),l=a(a(_,!0)),d=a(a(l,!0));yt(o,{}),z(_,()=>!0,s=>{var w=S(s),g=m(w),I=K(()=>i(r)<1);Ot(g,{get focus(){return i(I)}}),f(s,w)},null),z(l,()=>i(r)>0,s=>{var w=S(s),g=m(w),I=K(()=>i(r)<2);Qt(g,{get focus(){return i(I)}}),f(s,w)},null),z(d,()=>i(r)>1,s=>{var w=S(s),g=m(w);da(g,{}),f(s,w)},null),f(x,k)}}),f(t,v),X()}export{xa as component,ha as universal};
