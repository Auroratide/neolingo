import{E as Ce,c as m,s as r,o as ne,x as Ie,a as P,A as p,e as S,b as _,f as F,z as te,t as k,B as ie,V as We,I as q,r as ee,S as re,W as ze,H as De,y as D,g as B,X as Le,h as O,u as _e,J as ue,D as et,d as K,Y as Te,R as Ge,w as $,F as tt,v as rt,Z as He,_ as at,a0 as nt,a1 as ot,G as Ne}from"../chunks/disclose-version.BlEMwc3f.js";import{p as X,a as Z,g as i,n as J,q as he}from"../chunks/runtime.CD0C5v4P.js";import{i as G}from"../chunks/if.Ja5g5Qg-.js";import{S as Ve}from"../chunks/Stack.pICwZkSL.js";import{c as st,a as Ee,W as it,b as lt,d as dt,s as ut,e as vt,P as ct,V as ft,f as gt,h as Re}from"../chunks/index.XQx0SRcA.js";import{F as Pe,s as mt,f as se}from"../chunks/FocusCard.mF19dIHx.js";import{p as N}from"../chunks/proxy.CRlho3EI.js";import{s as fe}from"../chunks/stored-state.svelte.BOHxnBA7.js";import{S as Ue}from"../chunks/Spinner.DPNS65oQ.js";import{n as Be}from"../chunks/notifications.svelte.w6SJF3Ws.js";const _t=()=>({metadata:{title:"Neolingo"}}),hr=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var pt=k('<p class="text-center block-space svelte-1b99jwj"> </p>'),wt=k(`<section><p class="text-center large svelte-1b99jwj">Each day, <strong>invent a word</strong> for a concept that doesn't have a word yet!</p></section> <section class="less-width small-stack svelte-1b99jwj"><h2 class="small svelte-1b99jwj">Yesterday's word:</h2> <!></section>`,!0);function bt(t,e){Z(e,!1);const n=st();Ce();var a=ne(t,!0,wt),g=_(a),d=r(r(g,!0)),h=p(d),C=r(r(h,!0));Ee(C,()=>n,x=>{var o=S(x),u=_(o);lt(u,{}),m(x,o)},(x,o)=>{var u=S(x),s=_(u);it(s,{value:o}),m(x,u)},(x,o)=>{var u=S(x),s=_(u);Pe(s,{error:!0,children:(v,l)=>{var w=F(v,!0,pt),c=te(p(w));Ie(c,()=>o.message),P(v,w)}}),m(x,u)}),m(t,a),X()}const ge=3,xe=15;var yt=k('<div class="container center label-underneath svelte-c0qihe"><label> </label> <input type="text" class="large-letters fill-in-the-blank lowercase svelte-c0qihe" required autocomplete="off" spellcheck="false" placeholder="your word here"></div>');function ht(t,e){Z(e,!0);let n=ie(e,"value",7,""),a=ie(e,"disabled",3,!1);const g=w=>{const c=w.target;n(c.value.toLocaleLowerCase())},d=`[a-zA-Z]{${ge},${xe}}`;var h=F(t,!0,yt),C=p(h),x=te(p(C)),o=r(r(C,!0));We(o),q(o,"minlength",ge),q(o,"maxlength",xe),q(o,"pattern",d),q(o,"title",`between ${D(ge)} and ${D(xe)} letters`);var u,s,v,l;ee(()=>{u!==(u=e.id)&&q(C,"for",u),re(x,e.label),s!==(s=e.id)&&q(o,"id",s),v!==(v=e.id)&&q(o,"name",v),l!==(l=a())&&(o.disabled=l)}),ze(o,n,w=>n(w)),De("change",o,g,!1),P(t,h),X()}function xt(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function Wt(t){const e=new Date(t);return e.setUTCDate(t.getUTCDate()+1),e.setUTCHours(0,0,0,0),e.getTime()-t.getTime()}let Se=B(N(new Date));Le(()=>{let t=-1;const e=()=>{O(Se,N(new Date)),t=window.setTimeout(e,Wt(i(Se))+500)};return e(),()=>clearTimeout(t)});const Xe={isToday:t=>xt(i(Se),t)},Tt="me:id",qe=fe(Tt,void 0),ae={get id(){return qe.value},generateId:async t=>dt(t).then(e=>(qe.value=e,e))},Ae="prompt:generated",Me="prompt:content",St="prompt:word";let me=B(N(new Promise(()=>{})));const ke=fe(St,"");Le(()=>{_e(()=>{const t=new Date(localStorage.getItem(Ae)??0),e=localStorage.getItem(Me);e==null||!Xe.isToday(t)?O(me,N(vt().then(n=>(localStorage.setItem(Ae,new Date().toISOString()),localStorage.setItem(Me,JSON.stringify(n)),ke.value="",n)))):O(me,N(Promise.resolve(JSON.parse(e))))})});const A={get content(){return i(me)},get myWord(){return ke.value},submitWord:async t=>{if(!ae.id)throw new Error("Could not submit word. Do you need to verify a captcha?");await ut(ae.id,(await i(me)).id,t),ke.value=t}};var kt=k('<form class="svelte-ehcgdw"><!></form> <div class="overlay-center svelte-ehcgdw"><!></div> <div class="overlay-center svelte-ehcgdw"><!></div> <div class="overlay-center svelte-ehcgdw"><p><strong>Something went wrong...</strong></p> <p> </p></div>',!0),Ct=k('<div class="all-text-centered overlay-container svelte-ehcgdw"><h2> </h2> <!></div>');function Ze(t,e){Z(e,!0);const n=ie(e,"focus",3,!1);let a=B(!1);const g=async o=>{var v;o.preventDefault(),O(a,!0);const u=new FormData(o.currentTarget,o.submitter),s=((v=e.transitionTo)==null?void 0:v.shouldTransition())??!1;await e.onsubmit(u).catch(l=>Be.error(l)).finally(()=>O(a,!1)),s&&setTimeout(()=>{var l;(l=document.querySelector(`#${e.transitionTo.id}`))==null||l.scrollIntoView()},100)};let d=B(!1);_e(()=>{e.content.catch(()=>{O(d,!0)})});var h=S(t);function C(o,u=J,s=J){var v=ne(o,!0,kt),l=_(v),w=p(l),c=r(r(l,!0)),I=p(c),L=r(r(c,!0)),H=p(L),E=r(r(L,!0)),b=p(E),W=r(r(b,!0)),j=te(p(W)),y;ee(()=>{y!==(y=i(a))&&(l.inert=y),ue(l,"invisible",u()==null),ue(c,"very-invisible",u()!=null||s()!=null),ue(L,"very-invisible",!i(a)),ue(E,"very-invisible",s()==null),re(j,s())}),De("submit",l,g,!1),Ve(w,{children:(f,T)=>{var V=S(f),R=_(V);et(()=>e.form,R,u,s),m(f,V)}}),Ue(I,{get label(){return e["waiting-label"]}}),Ue(H,{get label(){return e["submitted-label"]}}),m(o,v)}var x=_(h);Pe(x,{get id(){return e.id},get focus(){return n()},get error(){return i(d)},transition:!0,children:(o,u)=>{var s=F(o,!0,Ct),v=p(s),l=te(p(v)),w=r(r(v,!0));Ie(l,()=>e.title),Ee(w,()=>e.content,c=>{var I=S(c),L=_(I);C(L,()=>{},()=>{}),m(c,I)},(c,I)=>{var L=S(c),H=_(L);C(H,()=>I,()=>{}),m(c,L)},(c,I)=>{var L=S(c),H=_(L);C(H,()=>{},()=>I.message),m(c,L)}),P(o,s)}}),m(t,h),X()}var It=k('<div id="cf-turnstile"></div>');function Dt(t,e){Z(e,!0),_e(()=>{const a=window.turnstile.render("#cf-turnstile",{sitekey:ct,callback:()=>{}});return()=>{window.turnstile.remove(a)}});var n=F(t,!0,It);P(t,n),X()}var Lt=k('<p class="center slightly-larger button-like-padding svelte-i76fpj">Thanks for your submission!</p>'),Vt=k('<button type="submit" class="slightly-larger svelte-i76fpj">Submit Word</button>'),Et=k("<div><!></div>"),Pt=k('<p>Invent a word that means:</p> <p class="balanced svelte-i76fpj"><strong class="slightly-larger quoted svelte-i76fpj"> </strong></p> <!> <!> <!>',!0);function Ft(t,e){Z(e,!0);const n=ie(e,"focus",3,!1);let a=B(N(A.myWord));const g=async o=>{ae.id||await ae.generateId(o.get("cf-turnstile-response")),await A.submitWord(o.get("word-input"))},d=K(()=>A.myWord!=null&&A.myWord!=="");var h=S(t),C=_(h),x=K(()=>({id:"vote-section",shouldTransition:()=>{var o;return(((o=A.myWord)==null?void 0:o.length)??0)===0}}));Ze(C,{id:"invent-a-word-section",get focus(){return n()},title:"Invent a Word",get content(){return A.content},"waiting-label":"Creating a prompt","submitted-label":"Sending your word",onsubmit:g,get transitionTo(){return i(x)},form:(u,s=J)=>{var v=ne(u,!0,Pt),l=_(v),w=r(r(l,!0)),c=p(w),I=te(p(c)),L=r(r(w,!0)),H=r(r(L,!0)),E=r(r(H,!0));Ie(I,()=>{var b;return((b=s())==null?void 0:b.text)??"this is placeholder text where the prompt text will go after it all loads into place"}),ht(L,{id:"word-input",label:"Your word",get value(){return i(a)},set value(b){O(a,N(b))},get disabled(){return i(d)}}),G(H,()=>i(d),b=>{var W=F(b,!0,Lt);P(b,W)},b=>{var W=F(b,!0,Vt),j;ee(()=>{j!==(j=i(a).length<ge||i(d))&&(W.disabled=j)}),P(b,W)}),G(E,()=>!ae.id,b=>{var W=F(b,!0,Et);Te(W,()=>mt,()=>({axis:"y"}),!1);var j=p(W);Dt(j,{}),P(b,W)},null),m(u,v)}}),m(t,h),X()}var Ot=(t,e,n)=>e.onreplaceword(n()),jt=k('<div></div> <button class="x-button svelte-1ienhrs" type="button"><span> </span> <span aria-hidden="true">&times;</span></button> <input type="radio" required class="checkmark svelte-1ienhrs"> <label class="svelte-1ienhrs"> </label>',!0),Ht=k('<p class="span-all smaller svelte-1ienhrs"> </p>'),Nt=k('<fieldset class="svelte-1ienhrs"><legend>Which word do you like best?</legend> <div class="gridded-radios larger svelte-1ienhrs"><!> <label class="span-all smaller space-before svelte-1ienhrs">Or, find a specific word</label> <div class="span-all row smaller svelte-1ienhrs"><input type="search" placeholder="type word" autocomplete="off" class="svelte-1ienhrs"> <button type="button" class="subtle-button svelte-1ienhrs">Find</button></div> <!></div></fieldset>');function Rt(t,e){var W,j;Z(e,!0);const n=[];let a=ie(e,"value",7),g=B(N(((W=e.specificWord)==null?void 0:W.text)??"")),d=B(N(((j=e.specificWord)==null?void 0:j.text)===e.myWord?"my-word":"idle"));async function h(y){var T;if(i(g)===((T=e.specificWord)==null?void 0:T.text))return;if(y.stopPropagation(),y.preventDefault(),i(g)===""){O(d,"idle");return}O(d,"searching");const f=await e.onsearchword(i(g));O(d,N(f==null?"not-found":f.text===e.myWord?"my-word":"found")),i(d)==="found"&&a(f.id)}var C=F(t,!0,Nt);function x(y,f=J,T=J,V=J){var R=ne(y,!0,jt),oe=_(R),M=r(r(oe,!0)),Q=p(M);rt(Q,`${D(ft)} svelte-1ienhrs`);var le=p(Q),U=r(r(M,!0));We(U);var z=r(r(U,!0));He(z,()=>se,()=>({x:-20,duration:120,delay:60}),!1),Te(z,()=>se,()=>({x:20,duration:120}),!1);var de=te(p(z)),pe,we,be,je,ye;ee(()=>{$(oe,"grid-area",`${D(T()+1)} / 1 / ${D(T()+2)} / 2`),pe!==(pe=`Replace ${D(f().text)}`)&&q(M,"title",pe),$(M,"grid-area",`${D(T()+1)} / 2 / ${D(T()+2)} / 3`),$(M,"visibility",V()?"visible":"hidden"),re(le,`Replace ${D(f().text)}`),we!==(we=`${D(e.id)}-${D(f().id)}`)&&q(U,"id",we),be!==(be=e.id)&&q(U,"name",be),je!==(je=f().id)&&(U.value=(U.__value=f().id)==null?"":f().id),$(U,"grid-area",`${D(T()+1)} / 3 / ${D(T()+2)} / 4`),ye!==(ye=`${D(e.id)}-${D(f().id)}`)&&q(z,"for",ye),$(z,"grid-area",`${D(T()+1)} / 4 / ${D(T()+2)} / 5`),re(de,f().text)}),M.__click=[Ot,e,T],at(n,[],U,()=>(f().id,a()),$e=>a($e)),m(y,R)}function o(y,f=J,T=J){var V=F(y,!0,Ht);He(V,()=>se,()=>({x:-20,duration:120,delay:60}),!1),Te(V,()=>se,()=>({x:20,duration:120}),!1);var R=te(p(V));ee(()=>{$(V,"--row",T()),re(R,f())}),P(y,V)}var u=p(C),s=r(r(u,!0)),v=p(s),l=r(r(v,!0)),w=r(r(l,!0)),c=p(w);We(c);var I=r(r(c,!0)),L=r(r(w,!0)),H,E,b;ee(()=>{H!==(H=`${D(e.id)}-word-search`)&&q(l,"for",H),$(l,"--row",e.words.length),$(w,"--row",e.words.length+1),E!==(E=`${D(e.id)}-word-search`)&&q(c,"id",E),b!==(b=`${D(e.id)}-word-search`)&&q(c,"name",b)}),tt(v,()=>e.words,71,(y,f)=>he(y).id,(y,f,T)=>{var V=S(y),R=_(V);x(R,()=>he(f),()=>he(T),()=>!0),m(y,V)},null),ze(c,()=>i(g),y=>O(g,y)),De("keypress",c,y=>y.key==="Enter"&&h(y),!1),I.__click=h,G(L,()=>i(d)==="searching",y=>{var f=S(y),T=_(f);o(T,()=>"",()=>e.words.length+2),m(y,f)},y=>{var f=S(y),T=_(f);G(T,()=>i(d)==="not-found",V=>{var R=S(V),oe=_(R);o(oe,()=>"We could not find this word.",()=>e.words.length+2),m(V,R)},V=>{var R=S(V),oe=_(R);G(oe,()=>i(d)==="my-word",M=>{var Q=S(M),le=_(Q);o(le,()=>"Hey, that's your word!",()=>e.words.length+2),m(M,Q)},M=>{var Q=S(M),le=_(Q);G(le,()=>e.specificWord!=null,U=>{var z=S(U),de=_(z);x(de,()=>e.specificWord,()=>e.words.length+2,()=>!1),m(U,z)},U=>{var z=S(U),de=_(z);o(de,()=>"",()=>e.words.length+2),m(U,z)}),m(M,Q)}),m(V,R)}),m(y,f)}),P(t,C),X()}Ge(["click"]);function Ut(t){if(t.length===0)return-1;const e=Math.random();let n=0;for(let a=0;a<t.length;a++)if(n+=t[a],e<n)return a;return-1}function Je(t,e){if(t.length<=e)return[...t];const n=t.map(g=>g.tally+1),a=[];for(;a.length<e;){const g=Ut(qt(n));if(g===-1)break;a.push(t[g]),n[g]=0}return a}function qt(t){const e=t.reduce((n,a)=>n+a,0);return t.map(n=>n/e)}const Ke=3,Qe="votes:generated",At="votes:votable",Mt="votes:my-vote",Yt="votes:specific-word";let ce=B(N(new Promise(()=>{})));const ve=fe(At,[]),Fe=fe(Mt,void 0),Oe=fe(Yt,void 0);Le(()=>{_e(()=>{const t=new Date(localStorage.getItem(Qe)??0);Xe.isToday(t)?O(ce,N(Re())):(Fe.value=void 0,Oe.value=void 0,O(ce,N(Re().then(zt))))})});async function zt(t){return localStorage.setItem(Qe,new Date().toISOString()),ve.value=Je(t,Ke),t}async function Gt(t){if(!ae.id)throw new Error("Could not submit word. Do you need to verify a captcha?");await gt(ae.id,(await A.content).id,t),Fe.value=t}async function Bt(t){const e=await i(ce),n=ve.value.map(d=>d.id),a=e.filter(d=>!n.includes(d.id)&&d.text!==A.myWord),g=Je(a,1)[0];g!=null&&(ve.value=ve.value.toSpliced(t,1,g))}async function Xt(t){const n=(await i(ce)).find(a=>a.text===t);return n!=null&&n.text!=A.myWord&&(Oe.value=n),n}const Y={get allWords(){return i(ce)},get votableWords(){return ve.value},get myVote(){return Fe.value},get specificWord(){return Oe.value},submitVote:Gt,replaceWord:Bt,findSpecificWord:Xt};var Zt=k('<p class="center slightly-larger svelte-1qv8yif">Thanks for your vote!</p> <p class="center">You may change your vote whenever you want.</p>',!0),Jt=k('<button type="submit" class="slightly-larger svelte-1qv8yif">Submit Vote</button>'),Kt=k("<p>Choose a favorite word that isn't your own:</p> <!> <!>",!0);function Qt(t,e){Z(e,!0);const n=ie(e,"focus",3,!1);let a=B(N(Y.myVote));const g=async s=>{await Y.submitVote(s.get("word-vote"))},d=[...Array(Ke).keys()].map(s=>({id:(-s).toString(),text:"placeholder",tally:0})),h=s=>{Y.votableWords[s].id===i(a)&&O(a,void 0),Y.replaceWord(s)},C=K(()=>Y.myVote!=null&&Y.myVote===i(a));var x=S(t),o=_(x),u=K(()=>({id:"whats-next-section",shouldTransition:()=>{var s;return(((s=Y.myVote)==null?void 0:s.length)??0)===0}}));Ze(o,{id:"vote-section",get focus(){return n()},title:"Vote",get content(){return Y.allWords},"waiting-label":"Finding words","submitted-label":"Sending your vote",onsubmit:g,get transitionTo(){return i(u)},form:(v,l=J)=>{var w=ne(v,!0,Kt),c=_(w),I=r(r(c,!0)),L=K(()=>l()!=null?Y.votableWords:d),H=r(r(I,!0));Rt(I,{id:"word-vote",get words(){return i(L)},get value(){return i(a)},set value(E){O(a,N(E))},get specificWord(){return Y.specificWord},get myWord(){return A.myWord},onreplaceword:h,get onsearchword(){return Y.findSpecificWord}}),G(H,()=>i(C),E=>{var b=S(E),W=_(b);Ve(W,{size:"0.25em",children:(j,y)=>{var f=ne(j,!0,Zt);m(j,f)}}),m(E,b)},E=>{var b=F(E,!0,Jt),W;ee(()=>{W!==(W=i(a)==null)&&(b.disabled=W)}),P(E,b)}),m(v,w)}}),m(t,x),X()}var $t=nt('<svg width="1200" height="1227" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-120zmi4"><title>X/Twitter</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg>');function er(t,e){Z(e,!1),Ce();var n=F(t,!0,$t);P(t,n),X()}const tr=async(t,e,n,a,g)=>{var d,h;window.clearTimeout(i(e));try{await((h=(d=navigator.clipboard)==null?void 0:d.writeText)==null?void 0:h.call(d,i(n))),O(a,!0),O(e,N(window.setTimeout(()=>O(a,!1),5e3)))}catch(C){g.error(C)}};var rr=k('<a class="button"><!> Tweet it</a>'),ar=k('<span class="transitions svelte-1d0xpup">Copy/Paste</span>'),nr=k('<span class="transitions svelte-1d0xpup">Copied!</span>'),or=k('<button class="position-container svelte-1d0xpup"><span class="define-the-space svelte-1d0xpup">Copy/Paste</span> <!></button>'),sr=k('<div class="small-stack svelte-1d0xpup"><p>Share your word on social media:</p> <blockquote class="space-after svelte-1d0xpup"><p>I invented a new word!</p> <p><strong> </strong> </p> <p>Invent your own word at neolingo.fun.</p></blockquote> <ul class="row-list svelte-1d0xpup"><li><!></li> <li><!></li></ul></div>');function Ye(t,e){Z(e,!0);const n=K(()=>`I invented a new word!

${e.word}: ${e.definition}

Invent your own word at neolingo.fun.`);let a=B(!1),g=B(-1);var d=F(t,!0,sr);function h(b){var W=F(b,!0,rr),j=p(W);ot(W,"href",()=>`https://twitter.com/intent/tweet?text=${D(encodeURIComponent(i(n)))}`),er(j,{}),P(b,W)}function C(b){var W=F(b,!0,or),j=p(W),y=r(r(j,!0));W.__click=[tr,g,n,a,Be],G(y,()=>!i(a),f=>{var T=F(f,!0,ar);Ne(T,()=>se,()=>({duration:120,x:20}),!1),P(f,T)},f=>{var T=F(f,!0,nr);Ne(T,()=>se,()=>({duration:120,x:-20}),!1),P(f,T)}),P(b,W)}var x=p(d),o=r(r(x,!0)),u=p(o),s=r(r(u,!0)),v=p(s),l=te(p(v)),w=r(v,!0),c=r(r(o,!0)),I=p(c),L=p(I),H=r(r(I,!0)),E=p(H);ee(()=>{ue(d,"invisible",e.word.length===0),re(l,e.word),re(w,`: ${D(e.definition)}`)}),h(L),C(E),P(t,d),X()}Ge(["click"]);var ir=k('<div class="invisible small-stack svelte-10xovyt"><!></div>'),lr=k(`<div class="small-stack svelte-10xovyt"><h2 class="text-center svelte-10xovyt">What's next?</h2> <p class="text-center balance more-space-after svelte-10xovyt">Come back tomorrow to see which word won and then invent another new word!</p> <!></div>`);function dr(t,e){Z(e,!1),Ce();var n=S(t),a=_(n);Pe(a,{id:"whats-next-section",children:(g,d)=>{var h=F(g,!0,lr),C=p(h),x=r(r(C,!0)),o=r(r(x,!0));Ee(o,()=>A.content,u=>{var s=F(u,!0,ir),v=p(s);Ye(v,{word:"",definition:""}),P(u,s)},(u,s)=>{var v=S(u),l=_(v);Ye(l,{get word(){return A.myWord},get definition(){return s.text}}),m(u,v)},null),P(g,h)}}),m(t,n),X()}var ur=k("<!> <!> <!> <!>",!0);function xr(t,e){Z(e,!0);const n=h=>h?1:0,a=K(()=>n(A.myWord)+n(Y.myVote));var g=S(t),d=_(g);Ve(d,{size:"3em",children:(h,C)=>{var x=ne(h,!0,ur),o=_(x),u=r(r(o,!0)),s=r(r(u,!0)),v=r(r(s,!0));bt(o,{}),G(u,()=>!0,l=>{var w=S(l),c=_(w),I=K(()=>i(a)<1);Ft(c,{get focus(){return i(I)}}),m(l,w)},null),G(s,()=>i(a)>0,l=>{var w=S(l),c=_(w),I=K(()=>i(a)<2);Qt(c,{get focus(){return i(I)}}),m(l,w)},null),G(v,()=>i(a)>1,l=>{var w=S(l),c=_(w);dr(c,{}),m(l,w)},null),m(h,x)}}),m(t,g),X()}export{xr as component,hr as universal};
