import{c as _,a as q,b,s as a,d as T,e as A,k as g,l as N,t as S,o as B}from"./disclose-version.jtkXa8v4.js";import{z as K,k as Z,r as O,p as V,g as P,a as j,s as M,b as x,D as R}from"./runtime.ChrPWTZd.js";import{a as $,P as ee}from"./api.CfnFQHVy.js";import{S as G,s as te}from"./Stack.Daa2g9Oo.js";import{t as ae,a as re,e as ie,d as ne,s as se}from"./events.L-VZA9oS.js";import{a as E,c as le}from"./class.DbWJB1Xa.js";import{p as U}from"./props.BX3zS95e.js";import{F as oe,a as ce}from"./FocusCard.C81PzMbq.js";import{S as Y}from"./Spinner.DsTD7qNc.js";import{n as de}from"./notifications.svelte.DfG8ItFP.js";import{b as ve}from"./this.BSD64vzo.js";import{E as ue}from"./index.yqxNICKK.js";function z(s,e,r){var c=Z(s,e);c&&c.set&&(s[e]=r,K(()=>()=>{s[e]=null}))}var fe=S('<form class="svelte-ehcgdw"><!></form> <div class="overlay-center svelte-ehcgdw"><!></div> <div class="overlay-center svelte-ehcgdw"><!></div> <div class="overlay-center svelte-ehcgdw"><p><strong>Something went wrong...</strong></p> <p> </p></div>',!0),me=S('<div class="all-text-centered overlay-container svelte-ehcgdw"><h2> </h2> <!></div>');function Ce(s,e){j(e,!0);const r=U(e,"focus",3,!1),c=U(e,"transition",3,!1);let d=M(!1);const h=async i=>{var f;i.preventDefault(),x(d,!0);const u=new FormData(i.currentTarget,i.submitter),l=((f=e.transitionTo)==null?void 0:f.shouldTransition())??!1;await e.onsubmit(u).catch(t=>de.error(t)).finally(()=>x(d,!1)),l&&setTimeout(()=>{const t=document.querySelector(`#${e.transitionTo.id}`);t==null||t.scrollIntoView({behavior:"smooth"}),t==null||t.focus()},100)};let w=M(!1);O(()=>{e.content.catch(()=>{x(w,!0)})});var k=T(s);function v(i,u=R,l=R){var f=B(i,!0,fe),t=b(f),p=g(t),n=a(a(t,!0)),m=g(n),o=a(a(n,!0)),y=g(o),C=a(a(o,!0)),J=g(C),Q=a(a(J,!0)),W=N(g(Q)),F;K(()=>{F!==(F=P(d))&&(t.inert=F),E(t,"invisible",u()==null),E(n,"very-invisible",u()!=null||l()!=null),E(o,"very-invisible",!P(d)),E(C,"very-invisible",l()==null),re(W,l())}),ie("submit",t,h,!1),G(p,{children:(D,be)=>{var L=T(D),X=b(L);te(()=>e.form,X,u,l),_(D,L)}}),Y(m,{get label(){return e["waiting-label"]}}),Y(y,{get label(){return e["submitted-label"]}}),_(i,f)}var I=b(k);oe(I,{get id(){return e.id},get focus(){return r()},get error(){return P(w)},get transition(){return c()},children:(i,u)=>{var l=A(i,!0,me),f=g(l),t=N(g(f)),p=a(a(f,!0));ae(t,()=>e.title),$(p,()=>e.content,n=>{var m=T(n),o=b(m);v(o,()=>{},()=>{}),_(n,m)},(n,m)=>{var o=T(n),y=b(o);v(y,()=>m,()=>{}),_(n,o)},(n,m)=>{var o=T(n),y=b(o);v(y,()=>{},()=>m.message),_(n,o)}),q(i,l)}}),_(s,k),V()}const H="cf-turnstile";async function De(s){return new Promise((e,r)=>{window.turnstile.render(`#${H}`,{sitekey:ee,callback:c=>e(c),"error-callback":()=>{r(new Error("The captcha check failed in the background. Please refresh the page and try again."))},"before-interactive-callback":()=>{s()}})})}var ge=S(`<p id="turnstile-dialog-title"><strong>You're a human, right?</strong></p> <div></div> <p><small>You only have to confirm this once!</small></p>`,!0),_e=S('<dialog aria-labelledby="turnstile-dialog-title"><!> <button class="close svelte-icvilf" aria-label="close without verifying" title="close without verifying">&times;</button></dialog>');function Le(s,e){j(e,!0);let r;function c(){r.showModal()}function d(){r.close()}O(()=>(r.addEventListener("close",e.oncancel),()=>r.removeEventListener("close",e.oncancel)));var h=A(s,!0,_e);ve(h,v=>r=v,()=>r),le(h,`${se(ue)} svelte-icvilf`);var w=g(h),k=a(a(w,!0));return G(w,{size:"1em",children:(v,I)=>{var i=B(v,!0,ge),u=b(i),l=a(a(u,!0));ce(l,"id",H),_(v,i)}}),k.__click=d,q(s,h),z(e,"showModal",c),z(e,"close",d),V({showModal:c,close:d})}ne(["click"]);export{Ce as F,Le as T,De as t};
