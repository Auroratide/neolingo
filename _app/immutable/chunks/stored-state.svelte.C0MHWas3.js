import{s as c,g as u,b as i}from"./runtime.D6qGRyYZ.js";import{p as s}from"./proxy.BnfGvMXr.js";function S(t,e){const r=f(t)??e;n(t,r);let o=c(s(r));return{get value(){return u(o)},set value(a){n(t,a),i(o,s(a))}}}function f(t){if(!l)return;const e=localStorage.getItem(t);if(e!=null)try{return JSON.parse(e)}catch{localStorage.removeItem(t)}}function n(t,e){l&&(e!=null?localStorage.setItem(t,JSON.stringify(e)):localStorage.removeItem(t))}const l=(()=>{if(typeof window>"u")return!1;const t="test-localstorage";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}})();export{S as s};
