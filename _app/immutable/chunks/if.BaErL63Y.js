import{r as o,q as p,t as y,I as v,v as b}from"./runtime.B_8_eGvV.js";import{r as i,h as x,m as E,n as u,p as k}from"./disclose-version.D9v2Ydgv.js";import{c as S}from"./props.BQFMp1Pu.js";function w(s,g,q,c,I=!1){const l=S();x(s);let e,f,t=null,n=null,r=null;const d=o(()=>{var m,h;if(r===(r=!!g()))return;let _=!1;if(E){const a=(h=(m=u)==null?void 0:m[0])==null?void 0:h.data;!a||a==="ssr:if:true"&&!r||a==="ssr:if:false"&&r?(i(u),k(null),_=!0):u.shift()}r?(t?p(t):t=o(()=>(e=q(s),()=>{e!==void 0&&(i(e),e=void 0)}),l,!0),n&&y(n,()=>{n=null,f&&i(f)})):(n?p(n):c&&(n=o(()=>(f=c(s),()=>{f!==void 0&&(i(f),f=void 0)}),l,!0)),t&&y(t,()=>{t=null,e&&i(e)})),_&&k([])},l);I&&(d.f|=v),d.ondestroy=()=>{e!==void 0&&i(e),f!==void 0&&i(f),t&&b(t),n&&b(n)}}export{w as i};
