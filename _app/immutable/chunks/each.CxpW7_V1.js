import{h as P,f as Z,r as b,i as $,E as T,g as V,j as x,k as K,l as rr,m as M,n as O,p as N,q as er,u as ar}from"./disclose-version.D9v2Ydgv.js";import{r as j,h as F,q as y,t as G,v as z,w as fr,x as tr,y as lr,u as ir,b as Q,i as vr,S as nr,s as U,m as sr}from"./runtime.B_8_eGvV.js";import{c as ur}from"./props.BQFMp1Pu.js";var D=-1,J=-2;let R=null;function _r(e,i,t,u,s,n,l){var v=ur(),a={flags:t,items:[]},o=(t&x)!==0;if(P(o?e.firstChild:e),o){var g=e;g.append(e=Z())}var h=null,f=j(()=>{var L,H;var r=i(),c=F(r)?r:r==null?[]:Array.from(r),d=u===null?c:c.map(u),C=c.length,m=a.flags;m&K&&!vr(c)&&!(nr in c)&&(m^=K,m&rr&&!(m&T)&&(m^=T));let _=!1;if(M){var p=((H=(L=O)==null?void 0:L[0])==null?void 0:H.data)==="ssr:each_else";p!==(C===0)?(b(O),N(null),_=!0):p&&O.shift()}if(M){for(var w=[],k=O,E=k[0],A=0;A<C;A++){var I=er(E);if(N(I),!I){_=!0;break}w[A]=q(c[A],d==null?void 0:d[A],A,s,m),E=(I[I.length-1]||E).nextSibling.nextSibling}cr(k,E),a.items=w}M||l(c,a,e,s,m,d),n!==null&&(C===0?h?y(h):h=j(()=>{n(e);var S=v.d;return()=>{S!==null&&(b(S),S=null)}},v,!0):h!==null&&G(h,()=>{h=null})),_&&N([])},v,!1);f.ondestroy=()=>{for(var r of a.items)r.d!==null&&(z(r.e),b(r.d));h&&z(h)}}function Ar(e,i,t,u,s,n){_r(e,i,t,u,s,n,or)}function or(e,i,t,u,s,n){var S;for(var l=i.items,v=l.length,a=e.length,o=Array(a),g=(s&ar)!==0,h=(s&(T|V))!==0,f=0,r,c=[];v>0&&a>0&&l[v-1].k===n[a-1];)r=o[--a]=l[--v],t=X(r),y(r.e),h&&B(r,e[a],a,s);for(;f<v&&f<a&&l[f].k===n[f];)r=o[f]=l[f],y(r.e),h&&B(r,e[f],f,s),f+=1;if(f===v)for(;f<a;)r=q(e[f],n[f],f,u,s),o[f++]=r,W(r,t);else if(f===a)for(;f<v;)c.push(l[f++]);else{var d=!1,C=new Int32Array(a-f),m=new Map,_,p,w,k;for(_=f;_<a;_+=1)C[_-f]=D,fr(m,n[_],_);var E=[];if(g)for(_=0;_<l.length;_+=1)r=l[_],m.has(r.k)&&((S=r.a)==null||S.measure(),E.push(r));for(_=f;_<v;_+=1)r=l[_],p=tr(m,r.k),y(r.e),p===void 0?c.push(r):(d=!0,C[p-f]=_,o[p]=r,g&&E.push(r));for(d&&hr(C);a-- >f;){p=C[a-f];var A=p===D;A?r=q(e[a],n[a],a,u,s):(r=o[a],h&&B(r,e[a],a,s)),(A||d&&p!==J)&&(k=w===void 0?t:X(w),t=W(r,k)),w=o[a]=r}E.length>0&&lr(()=>{ir(()=>{var Y;for(r of E)(Y=r.a)==null||Y.apply()})})}var I=c.length;if(I>0){var L=()=>{for(r of c)r.d&&b(r.d);i.items=o},H=()=>{--I===0&&L()};for(r of c)G(r.e,H)}else i.items=o}function cr(e,i){if(i!==null){var t=e.indexOf(i);t!==-1&&e.length>t+1&&b(e.slice(t))}}function hr(e){for(var i=e.length,t=new Int32Array(i),u=new Int32Array(i),s=0,n=0,l,v,a,o;e[n]===D;++n);for(u[0]=n++;n<i;++n)if(v=e[n],v!==D)if(l=u[s],e[l]<v)t[n]=l,u[++s]=n;else{for(a=0,o=s;a<o;)l=a+o>>1,e[u[l]]<v?a=l+1:o=l;v<e[u[a]]&&(a>0&&(t[n]=u[a-1]),u[a]=n)}for(l=u[s];s-->=0;)e[l]=J,l=t[l]}function W(e,i){var t=e.d;return $(t,i)}function X(e){var i=e.d;return F(i)?i[0]:i}function B(e,i,t,u){u&T&&Q(e.v,i),u&V?Q(e.i,t):e.i=t}function q(e,i,t,u,s){var n=(s&T)===0,l=n?e:s&K?U(e):sr(e),v={a:null,d:null,e:null,i:s&V?U(t):t,k:i,v:l},a=R;try{return R=v,v.e=j(()=>{u(null,v.v,v.i)},v,!0),v}finally{R=a}}export{Ar as e};
